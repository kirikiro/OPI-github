<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лабораторная работа №6. Основы работы в консоли Windows</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Лабораторная работа №6. Основы работы в консоли Windows</h1>
    <div class="section">
        <h2>Задание 1</h2>
        <p>С помощью
            программы&nbsp;<code><a href="https://newsdo.vsu.by/pluginfile.php/269329/mod_assign/intro/series.exe">series</a></code>&nbsp;(её
            описание см. ниже) и с помощью перенаправления потоков разработайте командный файл, который находит
            минимальное, максимальное значение, сумму и среднее значение чисел из некоторого текстового файла, имя
            которого должно задаваться первым параметром командной строки вызова командного файла. Все результаты должны
            быть помещены в один текстовый файл, имя которого должно задаваться вторым параметром командной строки
            вызова командного файла.</p>
        <p>Например, пусть есть некоторый файл&nbsp;<code>a.txt</code>&nbsp;со следующим содержимым:</p>
        <pre>5.6 9.0 3.4
            7.8 1.2
            7.6 3.2 0.1 5.4
            9.8
        </pre>
        <p>Пусть разработанный командный файл имеет имя&nbsp;<code>calculate.cmd</code>, тогда запуск этого командного
            файла можно осуществить с помощью команды:</p>
        <pre>calculate.cmd a.txt b.txt</pre>
        <p>После запуска данной команды содержимое файла&nbsp;<code>b.txt</code>&nbsp;должно быть следующим (порядок
            строк может быть другим):</p>
        <pre>MIN: 0.1
            MAX: 9.8
            SUM: 53.1
            AVG: 5.31
        </pre>
        <p>Указание:</p>
        <p>Перебор значений агрегирующих функций (MIN, MAX, SUM, AVG) организовать с помощью
            команды&nbsp;<code>for</code>.</p>
        <p>Самостоятельно изучить:</p>
        <ul>
            <li>обработку параметров, передаваемых командному файлу;</li>
            <li>перенаправление потоков ввода и вывода;</li>
            <li>команду for и способ выполнения нескольких команд в цикле&nbsp;<code>for</code>.</li>
        </ul>
        <p>Описание программы&nbsp;<code>series</code>:</p>
        <p>Программе на вход (поток&nbsp;<code>STD_IN</code>) подаётся некоторое количество чисел (если вызывать
            программу без перенаправления потоков, то эти значения через пробел, табуляцию, переход на новую строку,
            вводятся с клавиатуры, ввод заканчивается комбинацией клавиш Ctrl+Z). Данная программа считывает значение
            переменной окружения&nbsp;<code>FUNCTION</code>, которая задаёт имя некоторой агрегирующей функции.
            Возможные значения:</p>
        <dl>
            <dt>MIN</dt>
            <dd>&mdash;&nbsp;минимальное значение</dd>
            <dt>MAX</dt>
            <dd>&mdash;&nbsp;максимальное значение</dd>
            <dt>SUM</dt>
            <dd>&mdash;&nbsp;сумма значений</dd>
            <dt>AVG</dt>
            <dd>&mdash;&nbsp;среднее арифметическое значений</dd>
        </dl>
        <p>При этом имя переменной окружения и возможные значения переменной окружения должны задаваться только большими
            буквами.</p>
        <p>Результат выполнения программа выводит в поток&nbsp;<code>STD_OUT</code>.</p>
        <video controls>
            <source src="media\lab6\lab6_1_ex.webm" type="video/webm">
            Ваш браузер не поддерживает видео.
        </video>
        <pre><code>
@echo off
setlocal EnableDelayedExpansion

if "%1"=="" (
    echo Usage: %0 input_file output_file
    exit /b 1
)
if "%2"=="" (
    echo Usage: %0 input_file output_file
    exit /b 1
)

set INPUT_FILE=%1
set OUTPUT_FILE=%2

if not exist "%INPUT_FILE%" (
    echo Input file "%INPUT_FILE%" does not exist
    exit /b 1
)

if exist "%OUTPUT_FILE%" del "%OUTPUT_FILE%"

set FUNCTIONS=MIN MAX SUM AVG

for %%F in (%FUNCTIONS%) do (
    set FUNCTION=%%F
    for /f "delims=" %%R in ('series ^< "%INPUT_FILE%"') do (
        echo %%F: %%R>>"%OUTPUT_FILE%"
    )
)

endlocal
        </code></pre>
        <h3>Пошаговое объяснение запуска кода на Windows</h3>
        <ol>
            <li>
                <p><strong>Проверяем, что у нас есть всё нужное</strong></p>
                <ul>
                    <li>У меня есть файл a.txt с числами, как в примере:
                        <div>
                            <div>
                                <div>
                                    <pre><code>5.6 9.0 3.4
7.8 1.2
7.6 3.2 0.1 5.4
9.8</code></pre>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li>Программа series должна быть где-то в папке, доступной через PATH, или в той же папке, где я
                        запускаю скрипт.</li>
                </ul>
            </li>
            <li>
                <p><strong>Создаём командный файл</strong> Чтобы запустить код, я сначала должен сохранить его в файл с
                    расширением .cmd.</p>
                <p>Сохраняю это как calculate.cmd в той же папке, где лежит a.txt. Ну, чтобы не путаться с путями.</p>
            </li>
            <li>
                <p><strong>Открываем консоль Windows</strong> Я нажимаю Win + R, пишу cmd, жму Enter, и открывается
                    командная строка. (Или можно через Пуск найти "Командная строка"). В консоли я перехожу в папку, где
                    лежат мои файлы.</p>
            </li>
            <li>
                <p><strong>Запускаем командный файл</strong> Теперь запускаю скрипт. В задании сказано, что нужно ввести
                    команду с двумя параметрами: имя входного файла (a.txt) и имя выходного файла (например, b.txt).
                    Пишу в консоли:</p>
                <div>
                    <div>
                        <div>cmd</div>
                        <div>
                            <pre><code>calculate.cmd a.txt b.txt</code></pre>
                        </div>
                    </div>
                </div>
                <p>Жму Enter. Если всё правильно, скрипт должен:</p>
                <ul>
                    <li>Прочитать числа из a.txt.</li>
                    <li>Использовать программу series для вычисления MIN, MAX, SUM, AVG.</li>
                    <li>Записать результаты в b.txt.</li>
                </ul>
            </li>
            <li>
                <p><strong>Что делает скрипт:</strong> Эээ, ну, примерно так:</p>
                <ul>
                    <li>@echo off &mdash; это чтобы консоль не захламлялась лишними сообщениями.</li>
                    <li>setlocal EnableDelayedExpansion &mdash; включаю локальные переменные, чтобы не портить
                        глобальные, и чтобы !VARIABLE! работало в циклах.</li>
                    <li>Проверяю, есть ли параметры %1 и %2 (входной и выходной файл). Если их нет, вывожу ошибку и
                        выхожу.</li>
                    <li>Сохраняю параметры в переменные INPUT_FILE и OUTPUT_FILE.</li>
                    <li>Проверяю, существует ли входной файл. Если нет, вывожу ошибку.</li>
                    <li>Если выходной файл уже есть, удаляю его, чтобы начать с чистого листа.</li>
                    <li>Задаю список функций MIN MAX SUM AVG в переменной FUNCTIONS.</li>
                    <li>В цикле for %%F in (%FUNCTIONS%) перебираю каждую функцию.</li>
                    <li>Для каждой функции устанавливаю переменную окружения FUNCTION=%%F и запускаю series с
                        перенаправлением ввода из INPUT_FILE.</li>
                    <li>Результаты записываю в OUTPUT_FILE с помощью &gt;&gt; (добавление в файл).</li>
                </ul>
            </li>
            <li>
                <p><strong>Проверяем результат</strong> После запуска команды я открываю файл b.txt (например, через
                    Блокнот или командой type b.txt). Там должно быть что-то вроде:</p>
                <div>
                    <div>
                        <div>
                            <pre><code>MIN: 0.1
MAX: 9.8
SUM: 53.1
AVG: 5.31</code></pre>
                        </div>
                    </div>
                </div>
            </li>
        </ol>
    </div>

    <div class="section">
        <h2>Задание 2</h2>
        <p>Создать командный файл, с помощью которого во всех текстовых файлах в текущем каталоге (файлы с расширением
            .txt) найти строки, содержащие указанную первым параметром командного файла подстроку (с помощью
            команды&nbsp;<code>find</code>). Затем занести все такие строки во временный
            файл&nbsp;<code>out.tmp</code>&nbsp;(если такой файл существует перед запуском командного файла, сразу
            завершить работу командного файла с соответствующей ошибкой, проверку и выход из командного файла
            осуществить командами&nbsp;<code>if</code>&nbsp;и&nbsp;<code>goto</code>, а вывод сообщения об ошибке
            командой&nbsp;<code>echo</code>). Вывести все строки из файла&nbsp;<code>out.tmp</code>&nbsp;в консоль
            командой&nbsp;<code>type</code>, отсортировав их командой&nbsp;<code>sort</code>. Объединение вывода
            содержимого файла командой&nbsp;<code>type</code>&nbsp;и сортировки
            командой&nbsp;<code>sort</code>&nbsp;можно осуществить с помощью специального символа &laquo;|&raquo;. Общий
            синтаксис следующий:</p>
        <pre>commandA | commandB</pre>
        <p>В таком случае то, что выводит команда&nbsp;<code>commandA</code>&nbsp;в поток&nbsp;<code>STD_OUT</code>,
            направляется в поток&nbsp;<code>STD_IN</code>&nbsp;команды&nbsp;<code>commandB</code>.</p>
        <p>После успешного вывода результата файл&nbsp;<code>out.tmp</code>&nbsp;удалить.</p>
        <p>При штатной работе командного файла (если не было ошибки, связанной с уже имеющимся
            файлом&nbsp;<code>out.tmp</code>), командный файл должен выводить только результат поиска и сортировки. Сами
            выполняемые команды выводится не должны (для подавления вывода строки с самой командой перед названием
            команды в командном файле ставится символ &laquo;@&raquo;, например,&nbsp;<code>@del out.tmp</code>). Для
            отключения вывода в консоль результатов работы команды выполняется команда&nbsp;<code>echo off</code>, а для
            включения вывода обратно команда&nbsp;<code>echo on</code>.</p>
        <p>Особенности выполнения задания смотри в вариантах, указанных в таблице ниже.</p>
        <p>Варианты:</p>
        <table>
            <tbody>
                <tr>
                    <th rowspan="2">Вариант</th>
                    <th colspan="2">Команда find</th>
                    <th>Команда sort</th>
                </tr>
                <tr>
                    <th>Вывод номера строк</th>
                    <th>Не учитывать регистр</th>
                    <th>Обратный порядок</th>
                </tr>
                <tr>
                    <td>1</td>
                    <td>Да</td>
                    <td>Да</td>
                    <td>Нет</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Нет</td>
                    <td>Да</td>
                    <td>Нет</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Да</td>
                    <td>Нет</td>
                    <td>Нет</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>Нет</td>
                    <td>Нет</td>
                    <td>Нет</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Да</td>
                    <td>Да</td>
                    <td>Да</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>Нет</td>
                    <td>Да</td>
                    <td>Да</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>Да</td>
                    <td>Нет</td>
                    <td>Да</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>Нет</td>
                    <td>Нет</td>
                    <td>Да</td>
                </tr>
            </tbody>
        </table>
        <video controls>
            <source src="media\lab6\lab6_2_ex.webm" type="video/webm">
            Ваш браузер не поддерживает видео.
        </video>
        <pre><code>@echo off

:: Проверяем, существует ли файл out.tmp
if exist out.tmp (
    echo error: file out.tmp already exists!
    goto :eof
)

:: Ищем строки с подстрокой (%1) во всех .txt файлах, без учета регистра
:: Вариант 8: без номеров строк, игнорируем регистр
find /i "%1" *.txt > out.tmp

:: Выводим содержимое out.tmp с сортировкой в обратном порядке
:: Вариант 8: sort с ключом /R
@type out.tmp | sort /R

:: Удаляем временный файл out.tmp
@del out.tmp

:: Включаем echo обратно (на всякий случай)
@echo on</code></pre>
        <ul>
            <li>ну короче, сначала мне нужно создать этот командный файл.</li>
            <li>Чета пишем по заданию.</li>
            <li>Запускаю скрипт с параметром. Параметр - это подстрока, которую ищем. Типа script.bat "hello", если ищу
                слово hello. Эээ, кавычки ставлю, если в подстроке пробелы, но в примере без.</li>
            <li>После запуска он проверяет out.tmp, если нет - ищет с find /i "%1" *.txt &gt; out.tmp. Без номеров
                строк, игнор регистра, по варианту 8.</li>
            <li>Потом выводит type out.tmp | sort /R - сортировка обратная, и все в консоль.</li>
            <li>В конце удаляет out.tmp тихо, с @del.</li>
            <li>Эээ, если все ок, то в консоли только отсортированные строки, ничего лишнего. Если out.tmp был - ошибка
                и выход.</li>
        </ul>
    </div>
    <div class="section">
        <h2>Задание 3</h2>
        <h2>Задание 3</h2>
        <p>Ознакомьтесь с примером программы, обрабатывающей параметры командной строки:</p>
        <pre><code>#include &lt;iostream&gt;
#include &lt;cstdlib&gt;
int main(int argc, char* argv[])
{
 if (argc == 3)
 {
 int x = atoi(argv[1]);
 int y = atoi(argv[2]);
 std::cout &lt;&lt; x &lt;&lt; " + " &lt;&lt; y &lt;&lt; " = " &lt;&lt; x + y &lt;&lt; "\n";
 }
 else
 {
 std::cerr &lt;&lt; "Program need exactly 2 parameters\n";
 }
 return 0;
}
</code></pre>
        <p>Написать консольную программу на C++, которая находит решение одной из трёх задач (см. свой вариант). Тип
            задачи определяется с помощью значения единственного параметра командной строки&nbsp;&mdash; это один
            символ, показывающий тип решаемой задачи. Далее на стандартный поток
            вывода&nbsp;<code>STD_OUT</code>&nbsp;программа выводит сообщения, запрашивая у пользователя входные данные
            для задачи. Сами входные данные считываются со стандартного потока ввода&nbsp;<code>STD_IN</code>. Если
            пользователь ввёл некорректные данные для задачи, то в стандартный поток
            вывода&nbsp;<code>STD_OUT</code>&nbsp;необходимо вывести только
            сообщение&nbsp;<code>Ошибка ввода входных данных</code>, а подробное сообщение об ошибке необходимо выводить
            в стандартный поток ошибок (<code>STD_ERR</code>). При демонстрации работы программы преподавателю
            необходимо запустить программу в консоли для каждого из видов задач. Продемонстрировать как работу с
            корректными, так и работу с некорректными данными. Для каждой задачи и каждого входного набора данных
            осуществить запуск программы дважды:</p>
        <ol>
            <li>Запуск осуществлять таким образом, чтобы
                потоки&nbsp;<code>STD_IN</code>&nbsp;и&nbsp;<code>STD_OUT</code>&nbsp;работали только с консолью, а
                поток&nbsp;<code>STD_ERR</code>&nbsp;перенаправлялся в файл с именем, указываемым при запуске
                (например,&nbsp;<code>errors.txt</code>). При этом каждый последующий запуск программы должен не
                перезаписывать этот файл, а лишь дописывать в его конец очередное сообщение об ошибке.</li>
            <li>Запуск осуществлять таким образом, чтобы
                потоки&nbsp;<code>STD_OUT</code>&nbsp;и&nbsp;<code>STD_IN</code>&nbsp;были ассоциированы с файлами,
                имена которых должны указываться при запуске
                (например,&nbsp;<code>in.txt</code>&nbsp;и&nbsp;<code>out.txt</code>), а
                поток&nbsp;<code>STD_ERR</code>&nbsp;был связан с консолью.</li>
        </ol>
        <p>Указание:</p>
        <p>В коде самой программы работы с файлами быть не должно. Программа должна позволять вводить как целые, так и
            дробные числа. Обрабатывать ошибки ввода, если пользователь вводит нечисловое значение, не нужно. Однако,
            если пользователь вводит отрицательное число там, где оно должно быть положительным, программа должна
            выдавать ошибку. Общая последовательность и формат вывода сообщений должны быть такими же, как и в примерах
            ниже. Однако в примерах приведены лишь некоторые случаи ввода некорректных данных. Программа должна
            обрабатывать все возможные варианты ввода некорректных данных, кроме ввода нечисловых значений.</p>
        <p>Виды решаемых задач:</p>
        <ul>
            <li>
                <p>А)&nbsp;Вычисление площади треугольника по длинам трёх сторон.</p>
                <p>Пример вызова программы для корректных данных:</p>
                <ul>
                    <li>
                        <p>A) Вычисление площади треугольника по длинам трёх его сторон.</p>
                        <p>Пример вызова программы для корректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program A
<span class="stdout">**************************************************************
* Вычисление площади треугольника по длинам трёх его сторон. *
**************************************************************</span>
<span class="stdout">Введите длину первой стороны:</span>
<span class="stdin">3</span>
<span class="stdout">Введите длину второй стороны:</span>
<span class="stdin">5</span>
<span class="stdout">Введите длину третьей стороны:</span>
<span class="stdin">4</span>
<span class="stdout">Длины сторон треугольника равны 3, 5 и 4</span>
<span class="stdout">Площадь треугольника равна 6</span>
</code></pre>
                        <p>Пример вызова программы для некорректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program A
<span class="stdout">*************************************************************
* Вычисление площади треугольника по длинам трёх его сторон *
*************************************************************</span>
<span class="stdout">Введите длину первой стороны:</span>
<span class="stdin">1.2</span>
<span class="stdout">Введите длину второй стороны:</span>
<span class="stdin">3.4</span>
<span class="stdout">Введите длину третьей стороны:</span>
<span class="stdin">5.6</span>
<span class="stderr">Ошибка ввода входных данных</span>
<span class="stderr">При вычислении площади треугольника по длинам трёх его сторон были введены
следующие значения длин сторон: 1.2, 3.4, 5.6.</span>
<span class="stderr">Такой треугольник не может существовать, так как длина самой длинной стороны
должна быть меньше суммы длин двух других его сторон</span>
</code></pre>
                    </li>
                    <li>
                        <p>B) Длина хорды окружности, задаваемой координатами центра и радиусом, образуемой прямой,
                            проходящей через заданные две точки.</p>
                        <p>Пример вызова программы для корректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program B
<span class="stdout">******************************************************************************
* Вычисление длины хорды окружности, лежащей на прямой, проходящей через две *
* заданные точки *
******************************************************************************</span>
<span class="stdout">Введите координаты центра окружности:</span>
<span class="stdin">3 5</span>
<span class="stdout">Введите радиус окружности:</span>
<span class="stdin">10</span>
<span class="stdout">Введите координаты первой точки, задающей прямую, содержащую хорду:</span>
<span class="stdin">0 0</span>
<span class="stdout">Введите координаты второй точки, задающей прямую, содержащую хорду:</span>
<span class="stdin">9 9</span>
<span class="stdout">Центр окружности расположен в точке (3, 5); радиус окружности равен 10</span>
<span class="stdout">Хорда лежит на прямой, проходящей через точки (0, 0) и (9, 9)</span>
<span class="stdout">Длина хорды равна 19.8</span>
</code></pre>
                        <p>Пример вызова программы для некорректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program B
<span class="stdout">******************************************************************************
* Вычисление длины хорды окружности, лежащей на прямой, проходящей через две *
* заданные точки *
******************************************************************************</span>
<span class="stdout">Введите координаты центра окружности:</span>
<span class="stdin">0 0</span>
<span class="stdout">Введите радиус окружности:</span>
<span class="stdin">1</span>
<span class="stdout">Введите координаты первой точки, задающей прямую, содержащую хорду:</span>
<span class="stdin">10 0</span>
<span class="stdout">Введите координаты второй точки, задающей прямую, содержащую хорду:</span>
<span class="stdin">0 10</span>
<span class="stderr">Ошибка ввода входных данных</span>
<span class="stderr">Прямая, проходящая через точки (10, 0) и (0, 10), не пересекает
окружность с центром в точке (0, 0) и радиусом 1</span>
</code></pre>
                    </li>
                    <li>
                        <p>C) Вычисление длины средней линии трапеции, заданной координатами четырёх вершин.</p>
                        <p>Пример вызова программы для корректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program C
<span class="stdout">********************************************
* Вычисление длины средней линии трапеции, *
* заданной координатами четырёх вершин *
********************************************</span>
<span class="stdout">Введите координаты первой вершины трапеции:</span>
<span class="stdin">-2 -2</span>
<span class="stdout">Введите координаты второй вершины трапеции:</span>
<span class="stdin">-2 6</span>
<span class="stdout">Введите координаты третьей вершины трапеции:</span>
<span class="stdin">2 9</span>
<span class="stdout">Введите координаты четвёртой вершины трапеции:</span>
<span class="stdin">10 7</span>
<span class="stdout">Трапеция с вершинами в точках (-2, -2); (-2, 6); (2, 9); (10, 7)</span>
<span class="stdout">Длина средней линии равна 10</span>
</code></pre>
                        <p>Пример вызова программы для некорректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program C
<span class="stdout">********************************************
* Вычисление длины средней линии трапеции, *
* заданной координатами четырёх вершин *
********************************************</span>
<span class="stdout">Введите координаты первой вершины трапеции:</span>
<span class="stdin">0 0</span>
<span class="stdout">Введите координаты второй вершины трапеции:</span>
<span class="stdin">0 1</span>
<span class="stdout">Введите координаты третьей вершины трапеции:</span>
<span class="stdin">2 2</span>
<span class="stdout">Введите координаты четвёртой вершины трапеции:</span>
<span class="stdin">1 0</span>
<span class="stderr">Ошибка ввода входных данных</span>
<span class="stderr">Четырёхугольник с вершинами в точках (0, 0); (0, 1); (2, 2); (1, 0)
не является трапецией</span>
</code></pre>
                    </li>
                    <li>
                        <p>D) Нахождение точки пересечения двух прямых, проходящих через две пары точек, заданных своими
                            координатами.</p>
                        <p>Пример вызова программы для корректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program D
<span class="stdout">*************************************************************************
* Нахождение точки пересечения двух прямых, заданных двумя парами точек *
*************************************************************************</span>
<span class="stdout">Введите координаты первой точки, задающей первую прямую:</span>
<span class="stdin">-1 8</span>
<span class="stdout">Введите координаты второй точки, задающей первую прямую:</span>
<span class="stdin">1 5</span>
<span class="stdout">Введите координаты первой точки, задающей вторую прямую:</span>
<span class="stdin">5 3</span>
<span class="stdout">Введите координаты второй точки, задающей вторую прямую:</span>
<span class="stdin">7 4</span>
<span class="stdout">Первая прямая проходит через точки (-1, 8) и (1, 5)</span>
<span class="stdout">Вторая прямая проходит через точки (5, 3) и (7, 4)</span>
<span class="stdout">Прямые пересекаются в точке (3, 2)</span>
</code></pre>
                        <p>Пример вызова программы для некорректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program D
<span class="stdout">*************************************************************************
* Нахождение точки пересечения двух прямых, заданных двумя парами точек *
*************************************************************************</span>
<span class="stdout">Введите координаты первой точки, задающей первую прямую:</span>
<span class="stdin">0 0</span>
<span class="stdout">Введите координаты второй точки, задающей первую прямую:</span>
<span class="stdin">1 1</span>
<span class="stdout">Введите координаты первой точки, задающей вторую прямую:</span>
<span class="stdin">1.2 3.4</span>
<span class="stdout">Введите координаты второй точки, задающей вторую прямую:</span>
<span class="stdin">5.6 7.8</span>
<span class="stderr">Ошибка ввода входных данных</span>
<span class="stderr">Прямая, проходящая через точки (0, 0) и (1, 1), не пересекается с прямой,
проходящей через точки (1.2, 3.4) и (5.6, 7.8)</span>
</code></pre>
                    </li>
                    <li>
                        <p>E) Определение координат четвёртой вершины ромба по заданным координатам первых трёх вершин
                            (если таких вариантов несколько - рассмотреть их все).</p>
                        <p>Пример вызова программы для корректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program E
<span class="stdout">******************************************************************************
* Определение координат неизвестной вершины ромба по известным трём вершинам *
******************************************************************************</span>
<span class="stdout">Введите координаты первой вершины ромба:</span>
<span class="stdin">2 1</span>
<span class="stdout">Введите координаты второй вершины ромба:</span>
<span class="stdin">6 4</span>
<span class="stdout">Введите координаты третьей вершины ромба:</span>
<span class="stdin">2 6</span>
<span class="stdout">Если первые три вершины ромба находятся в точках (2, 1); (6, 4) и (2, 6), то
четвёртая вершина находится в точке (6, 9)</span>
</code></pre>
                        <p>Пример вызова программы для некорректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program E
<span class="stdout">******************************************************************************
* Определение координат неизвестной вершины ромба по известным трём вершинам *
******************************************************************************</span>
<span class="stdout">Введите координаты первой вершины ромба:</span>
<span class="stdin">3 2</span>
<span class="stdout">Введите координаты второй вершины ромба:</span>
<span class="stdin">6 3</span>
<span class="stdout">Введите координаты третьей вершины ромба:</span>
<span class="stdin">5 5</span>
<span class="stderr">Ошибка ввода входных данных</span>
<span class="stderr">Заданы три точки с координатами (3, 2); (6, 3); (5, 5). При этом расстояния
между этими точками попарно являются различными числами, а для того, чтобы эти
точки задавали ромб, необходимо, чтобы хотя бы одна пара расстояний была
одинаковой, так как длины сторон ромба должны быть равны</span>
</code></pre>
                    </li>
                </ul>

                <p>Примечание:</p>
                <p>В примерах синим цветом показан вывод программы в стандартный поток вывода (<code>STD_OUT</code>),
                    зелёным - стандартный поток ввода (<code>STD_IN</code>), а красным - стандартный поток
                    ошибок (<code>STD_ERR</code>).</p>

                <p>Варианты:</p>
                <table>
                    <tbody>
                        <tr>
                            <th rowspan="2">Вариант</th>
                            <th colspan="3">Задача</th>
                        </tr>
                        <tr>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>A</td>
                            <td>B</td>
                            <td>C</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>A</td>
                            <td>B</td>
                            <td>D</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>A</td>
                            <td>B</td>
                            <td>E</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>A</td>
                            <td>C</td>
                            <td>D</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>A</td>
                            <td>C</td>
                            <td>E</td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>A</td>
                            <td>D</td>
                            <td>E</td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td>B</td>
                            <td>C</td>
                            <td>D</td>
                        </tr>
                        <tr>
                            <td>8</td>
                            <td>B</td>
                            <td>C</td>
                            <td>E</td>
                        </tr>
                        <tr>
                            <td>9</td>
                            <td>B</td>
                            <td>D</td>
                            <td>E</td>
                        </tr>
                        <tr>
                            <td>10</td>
                            <td>C</td>
                            <td>D</td>
                            <td>E</td>
                        </tr>
                    </tbody>
                </table>
    </div>
    <div class="section">
        <h3>Задание B</h3>
        <video controls>
            <source src="media\lab6\lab6_3_ex_B.webm" type="video/webm">
            Ваш браузер не поддерживает видео.
        </video>
    </div>
    <div class="section">
        <h3>Задание C</h3>
        <video controls>
            <source src="media\lab6\lab6_3_ex_C.webm" type="video/webm">
            Ваш браузер не поддерживает видео.
        </video>
    </div>
    <div class="section">
        <h3>Задание E</h3>
        <video controls>
            <source src="media\lab6\lab6_3_ex_E.webm" type="video/webm">
            Ваш браузер не поддерживает видео.
        </video>
    </div>
    <div class="section">
        <h3>Код задания 3</h3>
        <pre><code>
    #include <iostream>
#include <iomanip>
#include <cmath>
#include <windows.h> // Для работы с кодировкой Windows

using namespace std;

// Функция для проверки, является ли число положительным
bool isPositive(double x) {
    return x > 0;
}

// Функция для вычисления расстояния между двумя точками
double distance(double x1, double y1, double x2, double y2) {
    return sqrt(pow(x2 - x1, 2) + pow(y2 - y1, 2));
}

// Задача B: Длина хорды окружности
<div id="solveChordLength"></div>void solveChordLength() {
    cout << "******************************************************************************\n";
    cout << "* Вычисление длины хорды окружности, лежащей на прямой, проходящей через две *\n";
    cout << "* заданные точки                                                             *\n";
    cout << "******************************************************************************\n";

    double cx, cy, r, x1, y1, x2, y2;
    cout << "Введите координаты центра окружности:\n";
    cin >> cx >> cy;
    cout << "Введите радиус окружности:\n";
    cin >> r;
    cout << "Введите координаты первой точки, задающей прямую, содержащую хорду:\n";
    cin >> x1 >> y1;
    cout << "Введите координаты второй точки, задающей прямую, содержащую хорду:\n";
    cin >> x2 >> y2;

    <div id="positive"></div>if (!isPositive(r)) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Радиус окружности должен быть положительным, введено: " << r << "\n";
        return;
    }

    // Вычисление расстояния от центра окружности до прямой
    double A = y2 - y1;
    double B = x1 - x2;
    double C = x2 * y1 - x1 * y2;
    double dist = abs(A * cx + B * cy + C) / sqrt(A * A + B * B);

    if (dist > r) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Прямая, проходящая через точки (" << x1 << ", " << y1 << ") и (" << x2 << ", " << y2 << "), не пересекает\n";
        cerr << "окружность с центром в точке (" << cx << ", " << cy << ") и радиусом " << r << "\n";
        return;
    }

    // Вычисление длины хорды
    double chord_length = 2 * sqrt(r * r - dist * dist);

    cout << fixed << setprecision(1);
    cout << "Центр окружности расположен в точке (" << cx << ", " << cy << "); радиус окружности равен " << r << "\n";
    cout << "Хорда лежит на прямой, проходящей через точки (" << x1 << ", " << y1 << ") и (" << x2 << ", " << y2 << ")\n";
    cout << "Длина хорды равна " << chord_length << "\n";
}

// Задача C: Длина средней линии трапеции
void solveTrapezoidMidline() {
    cout << "********************************************\n";
    cout << "* Вычисление длины средней линии трапеции, *\n";
    cout << "* заданной координатами четырёх вершин     *\n";
    cout << "********************************************\n";

    double x1, y1, x2, y2, x3, y3, x4, y4;
    cout << "Введите координаты первой вершины трапеции:\n";
    cin >> x1 >> y1;
    cout << "Введите координаты второй вершины трапеции:\n";
    cin >> x2 >> y2;
    cout << "Введите координаты третьей вершины трапеции:\n";
    cin >> x3 >> y3;
    cout << "Введите координаты четвёртой вершины трапеции:\n";
    cin >> x4 >> y4;

    // Проверка, является ли четырёхугольник трапецией (параллельность сторон)
    bool isTrapezoid = false;
    if ((y2 - y1) * (x4 - x3) == (y4 - y3) * (x2 - x1) || // 12 и 34 параллельны
        (y3 - y2) * (x4 - x1) == (y4 - y1) * (x3 - x2)) {  // 23 и 41 параллельны
        isTrapezoid = true;
    }

    if (!isTrapezoid) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Четырёхугольник с вершинами в точках (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << "); ";
        cerr << "(" << x3 << ", " << y3 << "); (" << x4 << ", " << y4 << ")\n";
        cerr << "не является трапецией\n";
        return;
    }

    // Вычисление длины средней линии
    double midline_length;
    if ((y2 - y1) * (x4 - x3) == (y4 - y3) * (x2 - x1)) {
        midline_length = (distance(x1, y1, x2, y2) + distance(x3, y3, x4, y4)) / 2;
    }
    else {
        midline_length = (distance(x2, y2, x3, y3) + distance(x4, y4, x1, y1)) / 2;
    }

    cout << fixed << setprecision(1);
    cout << "Трапеция с вершинами в точках (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << "); ";
    cout << "(" << x3 << ", " << y3 << "); (" << x4 << ", " << y4 << ")\n";
    cout << "Длина средней линии равна " << midline_length << "\n";
}

// Задача E: Координаты четвёртой вершины ромба
void solveRhombusVertex() {
    cout << "******************************************************************************\n";
    cout << "* Определение координат неизвестной вершины ромба по известным трём вершинам *\n";
    cout << "******************************************************************************\n";

    double x1, y1, x2, y2, x3, y3;
    cout << "Введите координаты первой вершины ромба:\n";
    cin >> x1 >> y1;
    cout << "Введите координаты второй вершины ромба:\n";
    cin >> x2 >> y2;
    cout << "Введите координаты третьей вершины ромба:\n";
    cin >> x3 >> y3;

    // Проверка, что точки не лежат на одной прямой
    if ((y2 - y1) * (x3 - x1) == (y3 - y1) * (x2 - x1)) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Точки (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << "); (" << x3 << ", " << y3 << ") лежат на одной прямой\n";
        return;
    }

    // Проверка равенства длин сторон
    double d12 = distance(x1, y1, x2, y2);
    double d23 = distance(x2, y2, x3, y3);
    double d13 = distance(x1, y1, x3, y3);

    double x4, y4;
    bool valid = false;

    // Проверяем возможные конфигурации ромба
    if (abs(d12 - d23) < 1e-10) { // Стороны 12 и 23 равны
        x4 = x1 + x3 - x2;
        y4 = y1 + y3 - y2;
        valid = true;
    }
    else if (abs(d12 - d13) < 1e-10) { // Стороны 12 и 13 равны
        x4 = x2 + x3 - x1;
        y4 = y2 + y3 - y1;
        valid = true;
    }
    else if (abs(d23 - d13) < 1e-10) { // Стороны 23 и 13 равны
        x4 = x1 + x2 - x3;
        y4 = y1 + y2 - y3;
        valid = true;
    }

    if (!valid) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Заданы три точки с координатами (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << "); (" << x3 << ", " << y3 << ").\n";
        cerr << "При этом расстояния между этими точками попарно являются различными числами, а для того, чтобы эти точки задавали ромб,\n";
        cerr << "необходимо, чтобы хотя бы одна пара расстояний была одинаковой, так как длины сторон ромба должны быть равны\n";
        return;
    }

    cout << fixed << setprecision(1);
    cout << "Если первые три вершины ромба находятся в точках (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << "); (" << x3 << ", " << y3 << "), то\n";
    cout << "четвёртая вершина находится в точке (" << x4 << ", " << y4 << ")\n";
}

 <div id="main"></div>int main(int argc, char* argv[]) {
    // Установка кодировки консоли на Windows-1251
    SetConsoleOutputCP(1251);
    SetConsoleCP(1251);

    if (argc != 2 || argv[1][1] != '\0' || (argv[1][0] != 'B' && argv[1][0] != 'C' && argv[1][0] != 'E')) {
        cerr << "Программа принимает ровно один параметр: B, C или E\n";
        return 1;
    }

    char task = argv[1][0];
    switch (task) {
    case 'B':
        solveChordLength();
        break;
    case 'C':
        solveTrapezoidMidline();
        break;
    case 'E':
        solveRhombusVertex();
        break;
    }

    return 0;
}
</code></pre>
    </div>
    <div class="section">
        <h3>Че делает код:</h3>
        <ul>
            <li><a href="#main">ссылка:</a> argc энта количество аргументов командной строки. argv - массив строк, где argv[0] - имя программы,
                argv[1] - первый аргумент.</li>
            <li><a href="#solveChordLength">ссылка: </a>Запрашиваем данные: координаты центра (cx, cy), радиус r, координаты двух точек (x1, y1) и (x2, y2). (В моменте проверяем на positive <a href="#positive">ссылка</a>)</li>
            <li>Ну и другие вычисления, мне лень писать</li>
        </ul>
    </div>
    <footer>
        Автор: Шарко Евгений | Дата: 13.09.2025-14.09.2025 | GitHub Pages
    </footer>
</body>

</html>