<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лабораторная работа &#8470;&nbsp;6. Основы работы в&nbsp;консоли Windows</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Лабораторная работа &#8470;&nbsp;6. Основы работы в&nbsp;консоли Windows</h1>
    <div class="section">
        <h2>Задание 1</h2>
        <p>С&nbsp;помощью программы
            <code><a href="https://newsdo.vsu.by/pluginfile.php/269329/mod_assign/intro/series.exe">series</a></code>
            (её описание см.&nbsp;ниже) и&nbsp;с&nbsp;помощью перенаправления потоков разработайте командный файл,
            который находит минимальное, максимальное значение, сумму и&nbsp;среднее значение чисел из&nbsp;некоторого
            текстового файла, имя которого должно задаваться первым параметром командной строки вызова командного файла.
            Все результаты должны быть помещены в&nbsp;один текстовый файл, имя которого должно задаваться вторым
            параметром командной строки вызова командного файла.</p>
        <p>Например, пусть есть некоторый файл <code>a.txt</code> со&nbsp;следующим содержимым:</p>
        <pre>5.6 9.0 3.4
            7.8 1.2
            7.6 3.2 0.1 5.4
            9.8
        </pre>
        <p>Пусть разработанный командный файл имеет имя <code>calculate.cmd</code>, тогда запуск этого командного файла
            можно осуществить с&nbsp;помощью команды:</p>
        <pre>calculate.cmd a.txt b.txt</pre>
        <p>После запуска данной команды содержимое файла <code>b.txt</code> должно быть следующим (порядок строк может
            быть другим):</p>
        <pre>MIN: 0.1
            MAX: 9.8
            SUM: 53.1
            AVG: 5.31
        </pre>
        <p>Указание:</p>
        <p>Перебор значений агрегирующих функций (MIN, MAX, SUM, AVG) организовать с&nbsp;помощью команды
            <code>for</code>.</p>
        <p>Самостоятельно изучить:</p>
        <ul>
            <li>обработку параметров, передаваемых командному файлу;</li>
            <li>перенаправление потоков ввода и&nbsp;вывода;</li>
            <li>команду for и&nbsp;способ выполнения нескольких команд в&nbsp;цикле <code>for</code>.</li>
        </ul>
        <p>Описание программы <code>series</code>:</p>
        <p>Программе на&nbsp;вход (поток <code>STD_IN</code>) подаётся некоторое количество чисел (если вызывать
            программу без перенаправления потоков, то&nbsp;эти значения через пробел, табуляцию, переход на&nbsp;новую
            строку, вводятся с&nbsp;клавиатуры, ввод заканчивается комбинацией клавиш Ctrl+Z). Данная программа
            считывает значение переменной окружения <code>FUNCTION</code>, которая задаёт имя некоторой агрегирующей
            функции. Возможные значения:</p>
        <dl>
            <dt>MIN</dt>
            <dd>&mdash;&nbsp;минимальное значение</dd>
            <dt>MAX</dt>
            <dd>&mdash;&nbsp;максимальное значение</dd>
            <dt>SUM</dt>
            <dd>&mdash;&nbsp;сумма значений</dd>
            <dt>AVG</dt>
            <dd>&mdash;&nbsp;среднее арифметическое значений</dd>
        </dl>
        <p>При этом имя переменной окружения и&nbsp;возможные значения переменной окружения должны задаваться только
            большими буквами.</p>
        <p>Результат выполнения программа выводит в&nbsp;поток <code>STD_OUT</code>.</p> <video controls>
            <source src="media\lab6\lab6_1_ex.webm" type="video/webm"> Ваш браузер не&nbsp;поддерживает видео.
        </video>
        <pre><code>
@echo off
setlocal EnableDelayedExpansion

if "%1"=="" (
    echo Usage: %0 input_file output_file
    exit /b 1
)
if "%2"=="" (
    echo Usage: %0 input_file output_file
    exit /b 1
)

set INPUT_FILE=%1
set OUTPUT_FILE=%2

if not exist "%INPUT_FILE%" (
    echo Input file "%INPUT_FILE%" does not exist
    exit /b 1
)

if exist "%OUTPUT_FILE%" del "%OUTPUT_FILE%"

set FUNCTIONS=MIN MAX SUM AVG

for %%F in (%FUNCTIONS%) do (
    set FUNCTION=%%F
    for /f "delims=" %%R in ('series ^< "%INPUT_FILE%"') do (
        echo %%F: %%R>>"%OUTPUT_FILE%"
    )
)

endlocal
        </code></pre>
        <h3>Пошаговое объяснение запуска кода на&nbsp;Windows</h3>
        <ol>
            <li>
                <p><strong>Проверяем, что у&nbsp;нас есть всё нужное</strong></p>
                <ul>
                    <li>У&nbsp;меня есть файл a.txt с&nbsp;числами, как в&nbsp;примере: <div>
                            <div>
                                <div>
                                    <pre><code>5.6 9.0 3.4
7.8 1.2
7.6 3.2 0.1 5.4
9.8</code></pre>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li>Программа series должна быть <nobr>где-то</nobr> в&nbsp;папке, доступной через PATH, или
                        в&nbsp;той&nbsp;же папке, где я&nbsp;запускаю скрипт.</li>
                </ul>
            </li>
            <li>
                <p><strong>Создаём командный файл</strong> Чтобы запустить код, я&nbsp;сначала должен сохранить его
                    в&nbsp;файл с&nbsp;расширением.cmd.</p>
                <p>Сохраняю это как calculate.cmd в&nbsp;той&nbsp;же папке, где лежит a.txt. Ну, чтобы не&nbsp;путаться
                    с&nbsp;путями.</p>
            </li>
            <li>
                <p><strong>Открываем консоль Windows</strong> Я&nbsp;нажимаю Win + R, пишу cmd, жму Enter,
                    и&nbsp;открывается командная строка. (Или можно через Пуск найти &laquo;Командная строка&raquo;).
                    В&nbsp;консоли я&nbsp;перехожу в&nbsp;папку, где лежат мои файлы.</p>
            </li>
            <li>
                <p><strong>Запускаем командный файл</strong> Теперь запускаю скрипт. В&nbsp;задании сказано, что нужно
                    ввести команду с&nbsp;двумя параметрами: имя входного файла (a.txt) и&nbsp;имя выходного файла
                    (например, b.txt). Пишу в&nbsp;консоли:</p>
                <div>
                    <div>
                        <div>cmd</div>
                        <div>
                            <pre><code>calculate.cmd a.txt b.txt</code></pre>
                        </div>
                    </div>
                </div>
                <p>Жму Enter. Если всё правильно, скрипт должен:</p>
                <ul>
                    <li>Прочитать числа из&nbsp;a.txt.</li>
                    <li>Использовать программу series для вычисления MIN, MAX, SUM, AVG.</li>
                    <li>Записать результаты в&nbsp;b.txt.</li>
                </ul>
            </li>
            <li>
                <p><strong>Что делает скрипт:</strong> Эээ, ну, примерно так:</p>
                <ul>
                    <li>@echo off&nbsp;&mdash; это чтобы консоль не&nbsp;захламлялась лишними сообщениями.</li>
                    <li>setlocal EnableDelayedExpansion&nbsp;&mdash; включаю локальные переменные, чтобы не&nbsp;портить
                        глобальные, и&nbsp;чтобы! VARIABLE! работало в&nbsp;циклах.</li>
                    <li>Проверяю, есть&nbsp;ли параметры %1 и&nbsp;%2 (входной и&nbsp;выходной файл). Если их&nbsp;нет,
                        вывожу ошибку и&nbsp;выхожу.</li>
                    <li>Сохраняю параметры в&nbsp;переменные INPUT_FILE и&nbsp;OUTPUT_FILE.</li>
                    <li>Проверяю, существует&nbsp;ли входной файл. Если нет, вывожу ошибку.</li>
                    <li>Если выходной файл уже есть, удаляю его, чтобы начать с&nbsp;чистого листа.</li>
                    <li>Задаю список функций MIN MAX SUM AVG в&nbsp;переменной FUNCTIONS.</li>
                    <li>В&nbsp;цикле for %%F&nbsp;in&nbsp;(%FUNCTIONS%) перебираю каждую функцию.</li>
                    <li>Для каждой функции устанавливаю переменную окружения FUNCTION=%%F&nbsp;и&nbsp;запускаю series
                        с&nbsp;перенаправлением ввода из&nbsp;INPUT_FILE.</li>
                    <li>Результаты записываю в&nbsp;OUTPUT_FILE с&nbsp;помощью &gt;&gt; (добавление в&nbsp;файл).</li>
                </ul>
            </li>
            <li>
                <p><strong>Проверяем результат</strong> После запуска команды я&nbsp;открываю файл b.txt (например,
                    через Блокнот или командой type b.txt). Там должно быть <nobr>что-то</nobr> вроде:</p>
                <div>
                    <div>
                        <div>
                            <pre><code>MIN: 0.1
MAX: 9.8
SUM: 53.1
AVG: 5.31</code></pre>
                        </div>
                    </div>
                </div>
            </li>
        </ol>
    </div>
    <div class="section">
        <h2>Задание 2</h2>
        <p>Создать командный файл, с&nbsp;помощью которого во&nbsp;всех текстовых файлах в&nbsp;текущем каталоге (файлы
            с&nbsp;расширением.txt) найти строки, содержащие указанную первым параметром командного файла подстроку
            (с&nbsp;помощью команды <code>find</code>). Затем занести все такие строки во&nbsp;временный файл
            <code>out.tmp</code> (если такой файл существует перед запуском командного файла, сразу завершить работу
            командного файла с&nbsp;соответствующей ошибкой, проверку и&nbsp;выход из&nbsp;командного файла осуществить
            командами <code>if</code> и&nbsp;<code>goto</code>, а&nbsp;вывод сообщения об&nbsp;ошибке командой
            <code>echo</code>). Вывести все строки из&nbsp;файла <code>out.tmp</code> в&nbsp;консоль командой
            <code>type</code>, отсортировав их&nbsp;командой <code>sort</code>. Объединение вывода содержимого файла
            командой <code>type</code> и&nbsp;сортировки командой <code>sort</code> можно осуществить с&nbsp;помощью
            специального символа &laquo;|&raquo;. Общий синтаксис следующий:</p>
        <pre>commandA | commandB</pre>
        <p>В&nbsp;таком случае то, что выводит команда <code>commandA</code> в&nbsp;поток <code>STD_OUT</code>,
            направляется в&nbsp;поток <code>STD_IN</code> команды <code>commandB</code>.</p>
        <p>После успешного вывода результата файл <code>out.tmp</code> удалить.</p>
        <p>При штатной работе командного файла (если не&nbsp;было ошибки, связанной с&nbsp;уже имеющимся файлом
            <code>out.tmp</code>), командный файл должен выводить только результат поиска и&nbsp;сортировки. Сами
            выполняемые команды выводится не&nbsp;должны (для подавления вывода строки с&nbsp;самой командой перед
            названием команды в&nbsp;командном файле ставится символ &laquo;@&raquo;, например,
            <code>@del out.tmp</code>). Для отключения вывода в&nbsp;консоль результатов работы команды выполняется
            команда <code>echo off</code>, а&nbsp;для включения вывода обратно команда <code>echo on</code>.</p>
        <p>Особенности выполнения задания смотри в&nbsp;вариантах, указанных в&nbsp;таблице ниже.</p>
        <p>Варианты:</p>
        <table>
            <tbody>
                <tr>
                    <th rowspan="2">Вариант</th>
                    <th colspan="2">Команда find</th>
                    <th>Команда sort</th>
                </tr>
                <tr>
                    <th>Вывод номера строк</th>
                    <th>Не&nbsp;учитывать регистр</th>
                    <th>Обратный порядок</th>
                </tr>
                <tr>
                    <td>1</td>
                    <td>Да</td>
                    <td>Да</td>
                    <td>Нет</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Нет</td>
                    <td>Да</td>
                    <td>Нет</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Да</td>
                    <td>Нет</td>
                    <td>Нет</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>Нет</td>
                    <td>Нет</td>
                    <td>Нет</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Да</td>
                    <td>Да</td>
                    <td>Да</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>Нет</td>
                    <td>Да</td>
                    <td>Да</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>Да</td>
                    <td>Нет</td>
                    <td>Да</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>Нет</td>
                    <td>Нет</td>
                    <td>Да</td>
                </tr>
            </tbody>
        </table> <video controls>
            <source src="media\lab6\lab6_2_ex.webm" type="video/webm"> Ваш браузер не&nbsp;поддерживает видео.
        </video>
        <pre><code>@echo off

:: Проверяем, существует ли файл out.tmp
if exist out.tmp (
    echo error: file out.tmp already exists!
    goto :eof
)

:: Ищем строки с подстрокой (%1) во всех .txt файлах, без учета регистра
:: Вариант 8: без номеров строк, игнорируем регистр
find /i "%1" *.txt > out.tmp

:: Выводим содержимое out.tmp с сортировкой в обратном порядке
:: Вариант 8: sort с ключом /R
@type out.tmp | sort /R

:: Удаляем временный файл out.tmp
@del out.tmp

:: Включаем echo обратно (на всякий случай)
@echo on</code></pre>
        <ul>
            <li>ну&nbsp;короче, сначала мне нужно создать этот командный файл.</li>
            <li>Чета пишем по&nbsp;заданию.</li>
            <li>Запускаю скрипт с&nbsp;параметром. Параметр&nbsp;&mdash; это подстрока, которую ищем. Типа script.bat
                &laquo;hello&raquo;, если ищу слово hello. Эээ, кавычки ставлю, если в&nbsp;подстроке пробелы,
                но&nbsp;в&nbsp;примере без.</li>
            <li>После запуска он&nbsp;проверяет out.tmp, если нет&nbsp;&mdash; ищет с&nbsp;find /i &laquo;%1&raquo;
                *.txt &gt; out.tmp. Без номеров строк, игнор регистра, по&nbsp;варианту 8.</li>
            <li>Потом выводит type out.tmp | sort /R&nbsp;&mdash; сортировка обратная, и&nbsp;все в&nbsp;консоль.</li>
            <li>В&nbsp;конце удаляет out.tmp тихо, с&nbsp;@del.</li>
            <li>Эээ, если все ок, то&nbsp;в&nbsp;консоли только отсортированные строки, ничего лишнего. Если out.tmp
                был&nbsp;&mdash; ошибка и&nbsp;выход.</li>
        </ul>
    </div>
    <div class="section">
        <h2>Задание 3</h2>
        <h2>Задание 3</h2>
        <p>Ознакомьтесь с&nbsp;примером программы, обрабатывающей параметры командной строки:</p>
        <pre><code>#include &lt;iostream&gt;
#include &lt;cstdlib&gt;
int main(int argc, char* argv[])
{
 if (argc == 3)
 {
 int x = atoi(argv[1]);
 int y = atoi(argv[2]);
 std::cout &lt;&lt; x &lt;&lt; " + " &lt;&lt; y &lt;&lt; " = " &lt;&lt; x + y &lt;&lt; "\n";
 }
 else
 {
 std::cerr &lt;&lt; "Program need exactly 2 parameters\n";
 }
 return 0;
}
</code></pre>
        <p>Написать консольную программу на&nbsp;<nobr>C++</nobr>, которая находит решение одной из&nbsp;трёх задач
            (см.&nbsp;свой вариант). Тип задачи определяется с&nbsp;помощью значения единственного параметра командной
            строки&nbsp;&mdash; это один символ, показывающий тип решаемой задачи. Далее на&nbsp;стандартный поток
            вывода <code>STD_OUT</code> программа выводит сообщения, запрашивая у&nbsp;пользователя входные данные для
            задачи. Сами входные данные считываются со&nbsp;стандартного потока ввода <code>STD_IN</code>. Если
            пользователь ввёл некорректные данные для задачи, то&nbsp;в&nbsp;стандартный поток вывода
            <code>STD_OUT</code> необходимо вывести только сообщение <code>Ошибка ввода входных данных</code>,
            а&nbsp;подробное сообщение об&nbsp;ошибке необходимо выводить в&nbsp;стандартный поток ошибок
            (<code>STD_ERR</code>). При демонстрации работы программы преподавателю необходимо запустить программу
            в&nbsp;консоли для каждого из&nbsp;видов задач. Продемонстрировать как работу с&nbsp;корректными, так
            и&nbsp;работу с&nbsp;некорректными данными. Для каждой задачи и&nbsp;каждого входного набора данных
            осуществить запуск программы дважды:</p>
        <ol>
            <li>Запуск осуществлять таким образом, чтобы потоки <code>STD_IN</code> и&nbsp;<code>STD_OUT</code> работали
                только с&nbsp;консолью, а&nbsp;поток <code>STD_ERR</code> перенаправлялся в&nbsp;файл с&nbsp;именем,
                указываемым при запуске (например, <code>errors.txt</code>). При этом каждый последующий запуск
                программы должен не&nbsp;перезаписывать этот файл, а&nbsp;лишь дописывать в&nbsp;его конец очередное
                сообщение об&nbsp;ошибке.</li>
            <li>Запуск осуществлять таким образом, чтобы потоки <code>STD_OUT</code> и&nbsp;<code>STD_IN</code> были
                ассоциированы с&nbsp;файлами, имена которых должны указываться при запуске (например,
                <code>in.txt</code> и&nbsp;<code>out.txt</code>), а&nbsp;поток <code>STD_ERR</code> был связан
                с&nbsp;консолью.</li>
        </ol>
        <p>Указание:</p>
        <p>В&nbsp;коде самой программы работы с&nbsp;файлами быть не&nbsp;должно. Программа должна позволять вводить как
            целые, так и&nbsp;дробные числа. Обрабатывать ошибки ввода, если пользователь вводит нечисловое значение,
            не&nbsp;нужно. Однако, если пользователь вводит отрицательное число там, где оно должно быть положительным,
            программа должна выдавать ошибку. Общая последовательность и&nbsp;формат вывода сообщений должны быть
            такими&nbsp;же, как и&nbsp;в&nbsp;примерах ниже. Однако в&nbsp;примерах приведены лишь некоторые случаи
            ввода некорректных данных. Программа должна обрабатывать все возможные варианты ввода некорректных данных,
            кроме ввода нечисловых значений.</p>
        <p>Виды решаемых задач:</p>
        <ul>
            <li>
                <p>А) Вычисление площади треугольника по&nbsp;длинам трёх сторон.</p>
                <p>Пример вызова программы для корректных данных:</p>
                <ul>
                    <li>
                        <p>A) Вычисление площади треугольника по&nbsp;длинам трёх его сторон.</p>
                        <p>Пример вызова программы для корректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program A
<span class="stdout">**************************************************************
* Вычисление площади треугольника по длинам трёх его сторон. *
**************************************************************</span>
<span class="stdout">Введите длину первой стороны:</span>
<span class="stdin">3</span>
<span class="stdout">Введите длину второй стороны:</span>
<span class="stdin">5</span>
<span class="stdout">Введите длину третьей стороны:</span>
<span class="stdin">4</span>
<span class="stdout">Длины сторон треугольника равны 3, 5 и 4</span>
<span class="stdout">Площадь треугольника равна 6</span>
</code></pre>
                        <p>Пример вызова программы для некорректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program A
<span class="stdout">*************************************************************
* Вычисление площади треугольника по длинам трёх его сторон *
*************************************************************</span>
<span class="stdout">Введите длину первой стороны:</span>
<span class="stdin">1.2</span>
<span class="stdout">Введите длину второй стороны:</span>
<span class="stdin">3.4</span>
<span class="stdout">Введите длину третьей стороны:</span>
<span class="stdin">5.6</span>
<span class="stderr">Ошибка ввода входных данных</span>
<span class="stderr">При вычислении площади треугольника по длинам трёх его сторон были введены
следующие значения длин сторон: 1.2, 3.4, 5.6.</span>
<span class="stderr">Такой треугольник не может существовать, так как длина самой длинной стороны
должна быть меньше суммы длин двух других его сторон</span>
</code></pre>
                    </li>
                    <li>
                        <p>B) Длина хорды окружности, задаваемой координатами центра и&nbsp;радиусом, образуемой прямой,
                            проходящей через заданные две точки.</p>
                        <p>Пример вызова программы для корректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program B
<span class="stdout">******************************************************************************
* Вычисление длины хорды окружности, лежащей на прямой, проходящей через две *
* заданные точки *
******************************************************************************</span>
<span class="stdout">Введите координаты центра окружности:</span>
<span class="stdin">3 5</span>
<span class="stdout">Введите радиус окружности:</span>
<span class="stdin">10</span>
<span class="stdout">Введите координаты первой точки, задающей прямую, содержащую хорду:</span>
<span class="stdin">0 0</span>
<span class="stdout">Введите координаты второй точки, задающей прямую, содержащую хорду:</span>
<span class="stdin">9 9</span>
<span class="stdout">Центр окружности расположен в точке (3, 5); радиус окружности равен 10</span>
<span class="stdout">Хорда лежит на прямой, проходящей через точки (0, 0) и (9, 9)</span>
<span class="stdout">Длина хорды равна 19.8</span>
</code></pre>
                        <p>Пример вызова программы для некорректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program B
<span class="stdout">******************************************************************************
* Вычисление длины хорды окружности, лежащей на прямой, проходящей через две *
* заданные точки *
******************************************************************************</span>
<span class="stdout">Введите координаты центра окружности:</span>
<span class="stdin">0 0</span>
<span class="stdout">Введите радиус окружности:</span>
<span class="stdin">1</span>
<span class="stdout">Введите координаты первой точки, задающей прямую, содержащую хорду:</span>
<span class="stdin">10 0</span>
<span class="stdout">Введите координаты второй точки, задающей прямую, содержащую хорду:</span>
<span class="stdin">0 10</span>
<span class="stderr">Ошибка ввода входных данных</span>
<span class="stderr">Прямая, проходящая через точки (10, 0) и (0, 10), не пересекает
окружность с центром в точке (0, 0) и радиусом 1</span>
</code></pre>
                    </li>
                    <li>
                        <p>C) Вычисление длины средней линии трапеции, заданной координатами четырёх вершин.</p>
                        <p>Пример вызова программы для корректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program C
<span class="stdout">********************************************
* Вычисление длины средней линии трапеции, *
* заданной координатами четырёх вершин *
********************************************</span>
<span class="stdout">Введите координаты первой вершины трапеции:</span>
<span class="stdin">-2 -2</span>
<span class="stdout">Введите координаты второй вершины трапеции:</span>
<span class="stdin">-2 6</span>
<span class="stdout">Введите координаты третьей вершины трапеции:</span>
<span class="stdin">2 9</span>
<span class="stdout">Введите координаты четвёртой вершины трапеции:</span>
<span class="stdin">10 7</span>
<span class="stdout">Трапеция с вершинами в точках (-2, -2); (-2, 6); (2, 9); (10, 7)</span>
<span class="stdout">Длина средней линии равна 10</span>
</code></pre>
                        <p>Пример вызова программы для некорректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program C
<span class="stdout">********************************************
* Вычисление длины средней линии трапеции, *
* заданной координатами четырёх вершин *
********************************************</span>
<span class="stdout">Введите координаты первой вершины трапеции:</span>
<span class="stdin">0 0</span>
<span class="stdout">Введите координаты второй вершины трапеции:</span>
<span class="stdin">0 1</span>
<span class="stdout">Введите координаты третьей вершины трапеции:</span>
<span class="stdin">2 2</span>
<span class="stdout">Введите координаты четвёртой вершины трапеции:</span>
<span class="stdin">1 0</span>
<span class="stderr">Ошибка ввода входных данных</span>
<span class="stderr">Четырёхугольник с вершинами в точках (0, 0); (0, 1); (2, 2); (1, 0)
не является трапецией</span>
</code></pre>
                    </li>
                    <li>
                        <p>D) Нахождение точки пересечения двух прямых, проходящих через две пары точек, заданных своими
                            координатами.</p>
                        <p>Пример вызова программы для корректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program D
<span class="stdout">*************************************************************************
* Нахождение точки пересечения двух прямых, заданных двумя парами точек *
*************************************************************************</span>
<span class="stdout">Введите координаты первой точки, задающей первую прямую:</span>
<span class="stdin">-1 8</span>
<span class="stdout">Введите координаты второй точки, задающей первую прямую:</span>
<span class="stdin">1 5</span>
<span class="stdout">Введите координаты первой точки, задающей вторую прямую:</span>
<span class="stdin">5 3</span>
<span class="stdout">Введите координаты второй точки, задающей вторую прямую:</span>
<span class="stdin">7 4</span>
<span class="stdout">Первая прямая проходит через точки (-1, 8) и (1, 5)</span>
<span class="stdout">Вторая прямая проходит через точки (5, 3) и (7, 4)</span>
<span class="stdout">Прямые пересекаются в точке (3, 2)</span>
</code></pre>
                        <p>Пример вызова программы для некорректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program D
<span class="stdout">*************************************************************************
* Нахождение точки пересечения двух прямых, заданных двумя парами точек *
*************************************************************************</span>
<span class="stdout">Введите координаты первой точки, задающей первую прямую:</span>
<span class="stdin">0 0</span>
<span class="stdout">Введите координаты второй точки, задающей первую прямую:</span>
<span class="stdin">1 1</span>
<span class="stdout">Введите координаты первой точки, задающей вторую прямую:</span>
<span class="stdin">1.2 3.4</span>
<span class="stdout">Введите координаты второй точки, задающей вторую прямую:</span>
<span class="stdin">5.6 7.8</span>
<span class="stderr">Ошибка ввода входных данных</span>
<span class="stderr">Прямая, проходящая через точки (0, 0) и (1, 1), не пересекается с прямой,
проходящей через точки (1.2, 3.4) и (5.6, 7.8)</span>
</code></pre>
                    </li>
                    <li>
                        <p>E) Определение координат четвёртой вершины ромба по&nbsp;заданным координатам первых трёх
                            вершин (если таких вариантов несколько&nbsp;&mdash; рассмотреть их&nbsp;все).</p>
                        <p>Пример вызова программы для корректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program E
<span class="stdout">******************************************************************************
* Определение координат неизвестной вершины ромба по известным трём вершинам *
******************************************************************************</span>
<span class="stdout">Введите координаты первой вершины ромба:</span>
<span class="stdin">2 1</span>
<span class="stdout">Введите координаты второй вершины ромба:</span>
<span class="stdin">6 4</span>
<span class="stdout">Введите координаты третьей вершины ромба:</span>
<span class="stdin">2 6</span>
<span class="stdout">Если первые три вершины ромба находятся в точках (2, 1); (6, 4) и (2, 6), то
четвёртая вершина находится в точке (6, 9)</span>
</code></pre>
                        <p>Пример вызова программы для некорректных данных:</p>
                        <pre><code class="language-text">C:\Users\User&gt; program E
<span class="stdout">******************************************************************************
* Определение координат неизвестной вершины ромба по известным трём вершинам *
******************************************************************************</span>
<span class="stdout">Введите координаты первой вершины ромба:</span>
<span class="stdin">3 2</span>
<span class="stdout">Введите координаты второй вершины ромба:</span>
<span class="stdin">6 3</span>
<span class="stdout">Введите координаты третьей вершины ромба:</span>
<span class="stdin">5 5</span>
<span class="stderr">Ошибка ввода входных данных</span>
<span class="stderr">Заданы три точки с координатами (3, 2); (6, 3); (5, 5). При этом расстояния
между этими точками попарно являются различными числами, а для того, чтобы эти
точки задавали ромб, необходимо, чтобы хотя бы одна пара расстояний была
одинаковой, так как длины сторон ромба должны быть равны</span>
</code></pre>
                    </li>
                </ul>
                <p>Примечание:</p>
                <p>В&nbsp;примерах синим цветом показан вывод программы в&nbsp;стандартный поток вывода
                    (<code>STD_OUT</code>), зелёным&nbsp;&mdash; стандартный поток ввода (<code>STD_IN</code>),
                    а&nbsp;красным&nbsp;&mdash; стандартный поток ошибок (<code>STD_ERR</code>).</p>
                <p>Варианты:</p>
                <table>
                    <tbody>
                        <tr>
                            <th rowspan="2">Вариант</th>
                            <th colspan="3">Задача</th>
                        </tr>
                        <tr>
                            <th>1</th>
                            <th>2</th>
                            <th>3</th>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>A</td>
                            <td>B</td>
                            <td>C</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>A</td>
                            <td>B</td>
                            <td>D</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>A</td>
                            <td>B</td>
                            <td>E</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>A</td>
                            <td>C</td>
                            <td>D</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>A</td>
                            <td>C</td>
                            <td>E</td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>A</td>
                            <td>D</td>
                            <td>E</td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td>B</td>
                            <td>C</td>
                            <td>D</td>
                        </tr>
                        <tr>
                            <td>8</td>
                            <td>B</td>
                            <td>C</td>
                            <td>E</td>
                        </tr>
                        <tr>
                            <td>9</td>
                            <td>B</td>
                            <td>D</td>
                            <td>E</td>
                        </tr>
                        <tr>
                            <td>10</td>
                            <td>C</td>
                            <td>D</td>
                            <td>E</td>
                        </tr>
                    </tbody>
                </table>
    </div>
    <div class="section">
        <h3>Задание B</h3> <video controls>
            <source src="media\lab6\lab6_3_ex_B.webm" type="video/webm"> Ваш браузер не&nbsp;поддерживает видео.
        </video>
    </div>
    <div class="section">
        <h3>Задание C</h3> <video controls>
            <source src="media\lab6\lab6_3_ex_C.webm" type="video/webm"> Ваш браузер не&nbsp;поддерживает видео.
        </video>
    </div>
    <div class="section">
        <h3>Задание E</h3> <video controls>
            <source src="media\lab6\lab6_3_ex_E.webm" type="video/webm"> Ваш браузер не&nbsp;поддерживает видео.
        </video>
    </div>
    <div class="section">
        <h3>Код задания 3</h3>
        <pre><code>
    #include <iostream>
#include <iomanip>
#include <cmath>
#include <windows.h> // Для работы с кодировкой Windows

using namespace std;

// Функция для проверки, является ли число положительным
bool isPositive(double x) {
    return x > 0;
}

// Функция для вычисления расстояния между двумя точками
double distance(double x1, double y1, double x2, double y2) {
    return sqrt(pow(x2 - x1, 2) + pow(y2 - y1, 2));
}

// Задача B: Длина хорды окружности
<div id="solveChordLength"></div>void solveChordLength() {
    cout << "******************************************************************************\n";
    cout << "* Вычисление длины хорды окружности, лежащей на прямой, проходящей через две *\n";
    cout << "* заданные точки                                                             *\n";
    cout << "******************************************************************************\n";

    double cx, cy, r, x1, y1, x2, y2;
    cout << "Введите координаты центра окружности:\n";
    cin >> cx >> cy;
    cout << "Введите радиус окружности:\n";
    cin >> r;
    cout << "Введите координаты первой точки, задающей прямую, содержащую хорду:\n";
    cin >> x1 >> y1;
    cout << "Введите координаты второй точки, задающей прямую, содержащую хорду:\n";
    cin >> x2 >> y2;

    <div id="positive"></div>if (!isPositive(r)) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Радиус окружности должен быть положительным, введено: " << r << "\n";
        return;
    }

    // Вычисление расстояния от центра окружности до прямой
    double A = y2 - y1;
    double B = x1 - x2;
    double C = x2 * y1 - x1 * y2;
    double dist = abs(A * cx + B * cy + C) / sqrt(A * A + B * B);

    if (dist > r) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Прямая, проходящая через точки (" << x1 << ", " << y1 << ") и (" << x2 << ", " << y2 << "), не пересекает\n";
        cerr << "окружность с центром в точке (" << cx << ", " << cy << ") и радиусом " << r << "\n";
        return;
    }

    // Вычисление длины хорды
    double chord_length = 2 * sqrt(r * r - dist * dist);

    cout << fixed << setprecision(1);
    cout << "Центр окружности расположен в точке (" << cx << ", " << cy << "); радиус окружности равен " << r << "\n";
    cout << "Хорда лежит на прямой, проходящей через точки (" << x1 << ", " << y1 << ") и (" << x2 << ", " << y2 << ")\n";
    cout << "Длина хорды равна " << chord_length << "\n";
}

// Задача C: Длина средней линии трапеции
void solveTrapezoidMidline() {
    cout << "********************************************\n";
    cout << "* Вычисление длины средней линии трапеции, *\n";
    cout << "* заданной координатами четырёх вершин     *\n";
    cout << "********************************************\n";

    double x1, y1, x2, y2, x3, y3, x4, y4;
    cout << "Введите координаты первой вершины трапеции:\n";
    cin >> x1 >> y1;
    cout << "Введите координаты второй вершины трапеции:\n";
    cin >> x2 >> y2;
    cout << "Введите координаты третьей вершины трапеции:\n";
    cin >> x3 >> y3;
    cout << "Введите координаты четвёртой вершины трапеции:\n";
    cin >> x4 >> y4;

    // Проверка, является ли четырёхугольник трапецией (параллельность сторон)
    bool isTrapezoid = false;
    if ((y2 - y1) * (x4 - x3) == (y4 - y3) * (x2 - x1) || // 12 и 34 параллельны
        (y3 - y2) * (x4 - x1) == (y4 - y1) * (x3 - x2)) {  // 23 и 41 параллельны
        isTrapezoid = true;
    }

    if (!isTrapezoid) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Четырёхугольник с вершинами в точках (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << "); ";
        cerr << "(" << x3 << ", " << y3 << "); (" << x4 << ", " << y4 << ")\n";
        cerr << "не является трапецией\n";
        return;
    }

    // Вычисление длины средней линии
    double midline_length;
    if ((y2 - y1) * (x4 - x3) == (y4 - y3) * (x2 - x1)) {
        midline_length = (distance(x1, y1, x2, y2) + distance(x3, y3, x4, y4)) / 2;
    }
    else {
        midline_length = (distance(x2, y2, x3, y3) + distance(x4, y4, x1, y1)) / 2;
    }

    cout << fixed << setprecision(1);
    cout << "Трапеция с вершинами в точках (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << "); ";
    cout << "(" << x3 << ", " << y3 << "); (" << x4 << ", " << y4 << ")\n";
    cout << "Длина средней линии равна " << midline_length << "\n";
}

// Задача E: Координаты четвёртой вершины ромба
void solveRhombusVertex() {
    cout << "******************************************************************************\n";
    cout << "* Определение координат неизвестной вершины ромба по известным трём вершинам *\n";
    cout << "******************************************************************************\n";

    double x1, y1, x2, y2, x3, y3;
    cout << "Введите координаты первой вершины ромба:\n";
    cin >> x1 >> y1;
    cout << "Введите координаты второй вершины ромба:\n";
    cin >> x2 >> y2;
    cout << "Введите координаты третьей вершины ромба:\n";
    cin >> x3 >> y3;

    // Проверка, что точки не лежат на одной прямой
    if ((y2 - y1) * (x3 - x1) == (y3 - y1) * (x2 - x1)) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Точки (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << "); (" << x3 << ", " << y3 << ") лежат на одной прямой\n";
        return;
    }

    // Проверка равенства длин сторон
    double d12 = distance(x1, y1, x2, y2);
    double d23 = distance(x2, y2, x3, y3);
    double d13 = distance(x1, y1, x3, y3);

    double x4, y4;
    bool valid = false;

    // Проверяем возможные конфигурации ромба
    if (abs(d12 - d23) < 1e-10) { // Стороны 12 и 23 равны
        x4 = x1 + x3 - x2;
        y4 = y1 + y3 - y2;
        valid = true;
    }
    else if (abs(d12 - d13) < 1e-10) { // Стороны 12 и 13 равны
        x4 = x2 + x3 - x1;
        y4 = y2 + y3 - y1;
        valid = true;
    }
    else if (abs(d23 - d13) < 1e-10) { // Стороны 23 и 13 равны
        x4 = x1 + x2 - x3;
        y4 = y1 + y2 - y3;
        valid = true;
    }

    if (!valid) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Заданы три точки с координатами (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << "); (" << x3 << ", " << y3 << ").\n";
        cerr << "При этом расстояния между этими точками попарно являются различными числами, а для того, чтобы эти точки задавали ромб,\n";
        cerr << "необходимо, чтобы хотя бы одна пара расстояний была одинаковой, так как длины сторон ромба должны быть равны\n";
        return;
    }

    cout << fixed << setprecision(1);
    cout << "Если первые три вершины ромба находятся в точках (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << "); (" << x3 << ", " << y3 << "), то\n";
    cout << "четвёртая вершина находится в точке (" << x4 << ", " << y4 << ")\n";
}

 <div id="main"></div>int main(int argc, char* argv[]) {
    // Установка кодировки консоли на Windows-1251
    SetConsoleOutputCP(1251);
    SetConsoleCP(1251);

    if (argc != 2 || argv[1][1] != '\0' || (argv[1][0] != 'B' && argv[1][0] != 'C' && argv[1][0] != 'E')) {
        cerr << "Программа принимает ровно один параметр: B, C или E\n";
        return 1;
    }

    char task = argv[1][0];
    switch (task) {
    case 'B':
        solveChordLength();
        break;
    case 'C':
        solveTrapezoidMidline();
        break;
    case 'E':
        solveRhombusVertex();
        break;
    }

    return 0;
}
</code></pre>
    </div>
    <div class="section">
        <h3>Че&nbsp;делает код:</h3>
        <ul>
            <li><a href="#main">ссылка:</a> argc энта количество аргументов командной строки. argv&nbsp;&mdash; массив
                строк, где argv[0]&nbsp;&mdash; имя программы, argv[1]&nbsp;&mdash; первый аргумент.</li>
            <li><a href="#solveChordLength">ссылка: </a>Запрашиваем данные: координаты центра (cx, cy), радиус r,
                координаты двух точек (x1, y1) и&nbsp;(x2, y2). (В&nbsp;моменте проверяем на&nbsp;positive <a
                    href="#positive">ссылка</a>)</li>
            <li>Ну&nbsp;и&nbsp;другие вычисления, мне лень писать</li>
        </ul>
    </div>
    <footer> Автор: Шарко Евгений | Дата: <nobr>13.09.2025</nobr>&ndash;<nobr>14.09.2025</nobr> | GitHub Pages </footer>
</body>

</html>