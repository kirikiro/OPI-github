<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лабораторная работа &#8470;&nbsp;8. Основы работы в&nbsp;консоли Linux</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Лабораторная работа &#8470;&nbsp;8. Основы работы в&nbsp;консоли Linux</h1>
    <div class="section">
        <h2>Лабораторная работа &#8470;&nbsp;8. Основы работы в&nbsp;консоли Linux</h2>
        <p>(1 пара)</p>
        <h2>Задание</h2>
        <p>Скомпилируйте и&nbsp;запустите в&nbsp;командной строке операционной системы Linux программу, разработанную
            в&nbsp;рамках задания 3 <a
                href="https://newsdo.vsu.by/mod/assign/view.php?id=233562#lab-5-task-3">лабораторной работы
                &#8470;&nbsp;6.</a></p> <video controls>
            <source src="media\lab8\lab8.webm" type="video/webm"> Ваш браузер не&nbsp;поддерживает видео.
        </video>
        <pre><code>
#include <iostream>
#include <iomanip>
#include <cmath>

using namespace std;

// Функция для проверки, является ли число положительным
bool isPositive(double x) {
    return x > 0;
}

// Функция для вычисления расстояния между двумя точками
double distance(double x1, double y1, double x2, double y2) {
    return sqrt(pow(x2 - x1, 2) + pow(y2 - y1, 2));
}

// Задача B: Длина хорды окружности
void solveChordLength() {
    cout << "******************************************************************************\n";
    cout << "* Вычисление длины хорды окружности, лежащей на прямой, проходящей через две *\n";
    cout << "* заданные точки                                                             *\n";
    cout << "******************************************************************************\n";

    double cx, cy, r, x1, y1, x2, y2;
    cout << "Введите координаты центра окружности:\n";
    cin >> cx >> cy;
    cout << "Введите радиус окружности:\n";
    cin >> r;
    cout << "Введите координаты первой точки, задающей прямую, содержащую хорду:\n";
    cin >> x1 >> y1;
    cout << "Введите координаты второй точки, задающей прямую, содержащую хорду:\n";
    cin >> x2 >> y2;

    if (!isPositive(r)) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Радиус окружности должен быть положительным, введено: " << r << "\n";
        return;
    }

    if (x1 == x2 && y1 == y2) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Точки (" << x1 << ", " << y1 << ") и (" << x2 << ", " << y2 << ") совпадают, прямая не определена\n";
        return;
    }

    // Вычисление расстояния от центра окружности до прямой
    double A = y2 - y1;
    double B = x1 - x2;
    double C = x2 * y1 - x1 * y2;
    double dist = abs(A * cx + B * cy + C) / sqrt(A * A + B * B);

    if (dist > r) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Прямая, проходящая через точки (" << x1 << ", " << y1 << ") и (" << x2 << ", " << y2 << "), не пересекает\n";
        cerr << "окружность с центром в точке (" << cx << ", " << cy << ") и радиусом " << r << "\n";
        return;
    }

    // Вычисление длины хорды
    double chord_length = 2 * sqrt(r * r - dist * dist);

    cout << fixed << setprecision(1);
    cout << "Центр окружности расположен в точке (" << cx << ", " << cy << "); радиус окружности равен " << r << "\n";
    cout << "Хорда лежит на прямой, проходящей через точки (" << x1 << ", " << y1 << ") и (" << x2 << ", " << y2 << ")\n";
    cout << "Длина хорды равна " << chord_length << "\n";
}

// Задача C: Длина средней линии трапеции
void solveTrapezoidMidline() {
    cout << "********************************************\n";
    cout << "* Вычисление длины средней линии трапеции, *\n";
    cout << "* заданной координатами четырёх вершин     *\n";
    cout << "********************************************\n";

    double x1, y1, x2, y2, x3, y3, x4, y4;
    cout << "Введите координаты первой вершины трапеции:\n";
    cin >> x1 >> y1;
    cout << "Введите координаты второй вершины трапеции:\n";
    cin >> x2 >> y2;
    cout << "Введите координаты третьей вершины трапеции:\n";
    cin >> x3 >> y3;
    cout << "Введите координаты четвёртой вершины трапеции:\n";
    cin >> x4 >> y4;

    // Проверка, является ли четырёхугольник трапецией (параллельность сторон)
    bool isTrapezoid = false;
    if ((y2 - y1) * (x4 - x3) == (y4 - y3) * (x2 - x1) || // 12 и 34 параллельны
        (y3 - y2) * (x4 - x1) == (y4 - y1) * (x3 - x2)) {  // 23 и 41 параллельны
        isTrapezoid = true;
    }

    if (!isTrapezoid) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Четырёхугольник с вершинами в точках (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << "); ";
        cerr << "(" << x3 << ", " << y3 << "); (" << x4 << ", " << y4 << ")\n";
        cerr << "не является трапецией\n";
        return;
    }

    // Вычисление длины средней линии
    double midline_length;
    if ((y2 - y1) * (x4 - x3) == (y4 - y3) * (x2 - x1)) {
        midline_length = (distance(x1, y1, x2, y2) + distance(x3, y3, x4, y4)) / 2;
    } else {
        midline_length = (distance(x2, y2, x3, y3) + distance(x4, y4, x1, y1)) / 2;
    }

    cout << fixed << setprecision(1);
    cout << "Трапеция с вершинами в точках (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << "); ";
    cout << "(" << x3 << ", " << y3 << "); (" << x4 << ", " << y4 << ")\n";
    cout << "Длина средней линии равна " << midline_length << "\n";
}

// Задача E: Координаты четвёртой вершины ромба
void solveRhombusVertex() {
    cout << "******************************************************************************\n";
    cout << "* Определение координат неизвестной вершины ромба по известным трём вершинам *\n";
    cout << "******************************************************************************\n";

    double x1, y1, x2, y2, x3, y3;
    cout << "Введите координаты первой вершины ромба:\n";
    cin >> x1 >> y1;
    cout << "Введите координаты второй вершины ромба:\n";
    cin >> x2 >> y2;
    cout << "Введите координаты третьей вершины ромба:\n";
    cin >> x3 >> y3;

    // Проверка, что точки не лежат на одной прямой
    if ((y2 - y1) * (x3 - x1) == (y3 - y1) * (x2 - x1)) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Точки (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << "); (" << x3 << ", " << y3 << ") лежат на одной прямой\n";
        return;
    }

    // Проверка равенства длин сторон
    double d12 = distance(x1, y1, x2, y2);
    double d23 = distance(x2, y2, x3, y3);
    double d13 = distance(x1, y1, x3, y3);

    double x4, y4;
    bool valid = false;

    // Проверяем возможные конфигурации ромба
    if (abs(d12 - d23) < 1e-10) { // Стороны 12 и 23 равны
        x4 = x1 + x3 - x2;
        y4 = y1 + y3 - y2;
        valid = true;
    } else if (abs(d12 - d13) < 1e-10) { // Стороны 12 и 13 равны
        x4 = x2 + x3 - x1;
        y4 = y2 + y3 - y1;
        valid = true;
    } else if (abs(d23 - d13) < 1e-10) { // Стороны 23 и 13 равны
        x4 = x1 + x2 - x3;
        y4 = y1 + y2 - y3;
        valid = true;
    }

    if (!valid) {
        cout << "Ошибка ввода входных данных\n";
        cerr << "Заданы три точки с координатами (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << "); (" << x3 << ", " << y3 << ").\n";
        cerr << "При этом расстояния между этими точками попарно являются различными числами, а для того, чтобы эти точки задавали ромб,\n";
        cerr << "необходимо, чтобы хотя бы одна пара расстояний была одинаковой, так как длины сторон ромба должны быть равны\n";
        return;
    }

    cout << fixed << setprecision(1);
    cout << "Если первые три вершины ромба находятся в точках (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << "); (" << x3 << ", " << y3 << "), то\n";
    cout << "четвёртая вершина находится в точке (" << x4 << ", " << y4 << ")\n";
}

int main(int argc, char* argv[]) {
    if (argc != 2 || argv[1][1] != '\0' || (argv[1][0] != 'B' && argv[1][0] != 'C' && argv[1][0] != 'E')) {
        cerr << "Программа принимает ровно один параметр: B, C или E\n";
        return 1;
    }

    char task = argv[1][0];
    switch (task) {
        case 'B':
            solveChordLength();
            break;
        case 'C':
            solveTrapezoidMidline();
            break;
        case 'E':
            solveRhombusVertex();
            break;
    }

    return 0;
}
    </code></pre>
    </div>
    <div class="section">
        <p>Сильно разницы нет между 6.3 и&nbsp;8.3, единственная разница в&nbsp;том, что вывод в&nbsp;консоль была
            послредством установки кодировки консоли на&nbsp;<nobr>Windows-1251</nobr>, здесь она не&nbsp;нужна
            (то&nbsp;есть <windows.h> и&nbsp;функции SetConsoleOutputCP(1251), SetConsoleCP(1251)).</p>
        <p>Компиляция: g++ &laquo;название файла&raquo;.cpp -o &laquo;название программы&raquo;</p>
        <p>Запуск: ./&laquo;название программы после компиляции&raquo; и&nbsp;аргументы</p>
    </div>
    <footer>
        <p>Автор: Шарко Евгений | Дата: <nobr>13.09.2025</nobr>&ndash;<nobr>14.09.2025</nobr> | GitHub Pages </p><br>
        <a href="index.html">Вернуться назад</a>
    </footer>
</body>

</html>